<html>
    <head>
        <title>UMBC Meal Breakdown</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAACKFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACWfJIUAAAAt3RSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKy0uLzAxMjM0NTY3ODo7PD0+P0BBQkNERUZHSUpLTU5PUVJUVVZYWVtcXV5fYWJjZGZnaGlrbG1vcHFzdHV3eHl7fH5/gIKDhYaIi4yOj5GSlJWXmpudnqCio6WmqKqrra+wsrS1t7m6vL7AwcPFx8jKzM7P0dPV19na3N7g4uTo6evt7/Hz9ff5+/1wlxmYAAAHMklEQVQYGe3Bi3cUVx0H8O9sdvNaEvOApmlJSnishpZIofIuEBVKeVQKRYNAEbCGKi0WBYOkIdBUaoQqpQKtQBtCQULakG6S77/n0XNmznH3zmzQe+/89tz5fJBIJBKJRCKRSCQSiUQi4YTqvq4KuGw1yQ/XVsFZ/fyPa6/UwUlenr5jcNF8Brrgov0MZOCiL+i7BhfVMLATLlrDQDNc9D5943CRN0XfO3BRGwNL4aKfM5CGi76k7wpcVMvANrhoLQMNcNEAfWNwkTdFXy9c1M5ADi46QN9MCi4aoe8SXFTLwA/honUM1MFF5+m7Dxd5U/QdgYvaGeiAiw7RN52Ci+7SdwEuyjKwAS7awEAWLhqkbwQu8qbpOwAXLWCgDS56k768BxeN0tcPF2UZWA0XvcxANVx0gb5bcFFqmr59cNECBlrhosP0TXpw0T36zsBFcxhYARdtZKASLrpI3w24KDVN3264qIOBeXDRL+j7Bk76ir734KI5DCyDizYxkIGLhui7ChelZujbARctZKAJLjpK3yM46T59v4GL6hjohIu6GaiAiz6k7y+QbdG4EQwcqv5vEKaZdo1BmAztGoY007TqBKS5Rat2Qpp+WrUc0hykVa2QZhOtqoE0i2mVB2kaaNMDiJOmTZcgT54WHYc812nRdsjzB1rUBXl+RotaIM9aWlQNeRbQIghUR3vuQaAU7RmCRBO05i1IdJXWbINEp2jN85BoD62ZB4lW0ZoqSDSf1kCkLG0ZgUgp2jIImR7RkqOQ6TIt2QKZ3qElnZBpFy1phkwv0pIMZGqlHTMQqoZ23IFQHu0YgFQPaMVhSPUnWtENqY7TihykepVWNEGqF2hFBlI9RRumIFYVbfgcctGGc5DrLi04CLku0IKNkOsoLVgMubbQggbI1UkL0pCrmeblIViG5t2AZNM0rg+S3aZxPZDsfRq3HpIdonEdkGwzjauHZEtoXAUka6BpkxAtTdM+hWx5GnYast2gYfsgWx8NWwPZemjYc5BtHQ2rg2wdNCwF2epp1gSEq6BZVyHdYxp1CtJ9QqP2QLrf0ahVkG4vjWqDdKtpVBbStdGoFKTL0qRxiJeiSVcwa6nKuuanFyzKdS79330vt6i9pWlOxsMTGKdBJ1FabW5L79AX09Qp/48LRzd3VGM2rtCg3Yg279WhPM153N/9HZTyLg1aiQiNRx7RvK/eyCLSazToWYRa8DFtGZiLCCtoUC1CVJ2nTScqEOoZGuRBrf1r2jXagDA1NGcMaotmaNtEI0J4NGcYStlvad/9NEL8k8acgNJHjEMvQlyiMTuhMo/xyEDtbRqzHCrHGI9uqG2nMa1QGWM8hqG2jMbUQKGJcUlDqYXGeFB4jXHpglIVTXkAlc8YlzNQoymXoFDN2OQ9KI3SkONQWMf4tEPpIg3ZDoUhxucIlI7RkC4Uq2CMHkJpKw1pQbGljFMTVJbSkGoUOzgSp41QaaYhKBOVNOMeysUMjRhCubhNI95CuRigEdtQLt6kEc+jXGymEfNQLnI0ogrlopFGoGykacIIyscUDRiEmteUeykGLzydQaibNOAoVGp+Ncm4DLYhRB8N2AKFl/OMU68Hpf00oBPFehizix5U1tOAZhTZxdj1QaWDBmRQ6CkKsBIK9dRvBoW8EQrwOI1iFdTvDgotpwg7oPCY2g2g0E2KMOah2DVqdxgFaijEXBT7PbXrRoHvU4gfodheapdDgQMU4iSKraZ2TShwkkIMolg7tcugwHkKcQ3FstRtCoXOUojLKJaibp+jUC+F+CMUxqnZORTaRSGOQOEKNTuIQvMpxDIonKRmG1EoRSGqofATarYYRX5LEYahsoKaNaBII0XIQeUZapZGsfcowMdQqqFeeSik7jN2U1koedTrBlQaJxi3ZQjxkFr1QanpG8brBwjzEbXqgVqmnzG6PReh3qZW6xGm6dCNbxmHkTNLPITbQa06EMWLAUroolb1KDct1KoC5aaaOk2i/FCnT1F+RqnRaZSfD6jRPpSfX1KjNSg/W6nRcyg/S6lRHcrPXGqUQpj6ljjVIFwl9ZlAqNcZpxWIMENtriLUXMYpgwh3qM0phHvE+PwVUQaozR6E62V8tiLKYWqzCuEWMT51iNJNbdoQLjXNuIwiUo7aZBGhn3HpQaRGapNChJcYl1ZESlOXcUSpZEwmUMIUNbmCSFcZj3dRwmfU5CQi/ZjxWIISzlKT3YiUmWYcHnooYT81WYloexiHlShlAzV5FtG8v9G+MyhpITWpRQnpv9O28x5KqqcmHkpJnaZdBzELFdRjDLPw3VHac70FszJJLYYxKy9epx1/XoxZukYtTmCWGnbfommfvFKLWTtNLXZi9io7ey5N0oyvB19fmMaTeINaLMcTyjR3bvrpr89dvnn30eQU/w8z+cdjX14fPnt87/pcYwWe2Gpq0YpEIpFIJBKJRCKRSCQSiX/7FwpoEqlbFtVhAAAAAElFTkSuQmCC"/>

        <!-- Stylesheet imports -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <style>
            /* Chevron animations */
            .rotate-up {
                -webkit-transform: rotate(180deg);
                -moz-transform: rotate(180deg);
                transform: rotate(180deg);
                transition-duration: 0.2s;
            }
            .rotate-down {
                -webkit-transform: rotate(-180deg);
                -moz-transform: rotate(-180deg);
                transform: rotate(-180deg);
                transition-duration: 0.2s;
            }

            /* Sticky footer */
            html { position: relative; min-height: 100%; }
            body { margin-bottom: 60px; }
            .footer { position: absolute; bottom: 0; width: 100%; height: 60px; line-height: 60px; background-color: #f5f5f5;}
        </style>
    </head>

    <body>
        <div class="container-fluid" id="submission">
            <div class="jumbotron mt-2 mb-2" style="padding: 2rem;">
                <!-- Page Header -->
                <h1 class="page-header text-center pt-0">UMBC Meal Breakdown</h1>
                <p class="mb-1">
                    Analyze where and when you eat. This kind of analysis becomes particularly useful when trying to pick a meal plan. Or if you just want to look at your data for fun. Meal plan information can be found <a href="https://dineoncampus.com/UMBC/for-residents">here for residents</a> and <a href="https://dineoncampus.com/UMBC/for-commuters">here for commuters</a>.
                </p>
            </div>

            <!-- Instructions on how to use the application -->
            <h3>Steps:</h3>
            <ul class="list-group">
                <li class="list-group-item">
                    1. <a href="https://services.jsatech.com/statementnew.php?cid=70&acctto=B1" target="_blank">Go to the Campus Card website.</a>
                </li>

                <li class="list-group-item">
                    <span>2. Scroll down to find the name of your Meal Plan and hit the "View More" link.</span>
                </li>

                <li class="list-group-item">
                    <span>3. Scroll to the "View All Activity" section and hit the "CSV" download link.</span>
                </li>

                <li class="list-group-item">
                    <span>4. Upload the CSV file.</span><br><br>
                    <form name = "form_input" enctype="multipart/form-data" style="margin-bottom: 0">
                        <input class="form-control-file" type="file" name="meal_plan_data" id="fileUpload">
                    </form>
                </li>

                <li class="list-group-item">
                    <button class="btn btn-success" onclick="getFile()">Analyze</button>
                </li>
            </ul>
        </div>

        <!-- Div where all the analytics will be shown after they're calculated -->
        <div class="container" id="analytics" style="display: none;">
            <h1 class="page-header mb-3">
                Meal Breakdown
                <button style="float: right; margin-top: .5em;" class="btn btn-primary" onclick="reset()">Analyze Another</button>
            </h1>

            <!-- Collapsible panels for times when the person eats -->
            <div class="accordion" id="venueAccordion"></div><br>

            <!-- Bubble chart for eating venue visualization -->
            <h3>Data Visualization:</h3>
            <div id="bubbleChart"></div>
        </div>

        <!-- Sticky footer -->
        <footer class="footer">
            <div class="container">
                <span class="text-muted">
                    Created by <a href="https://twitter.com/reesdraminski" target="_blank">Rees Draminski</a>. View code <a href="https://github.com/umbc-sga/meal-breakdown" target="_blank">here</a>.
                </span>
              <span class="text-muted">Your data is never saved and is only analyzed on your device.</span>
            </div>
        </footer>
        
        <!-- Bootstrap JavaScript Imports -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

        <!-- Utility JavaScript Imports -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.6.2/papaparse.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
        <script src="https://d3js.org/d3.v4.min.js"></script>

        <!-- Dining Analytics Code -->
        <script src="app.js"></script>
    </body>
</html>
